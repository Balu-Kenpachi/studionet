<div class="row">
	<div class="container">
		<div class="col-xs-12">
			<h2>Home</h2>
			<button class="btn btn-default pull-right" ui-sref="admin" ng-if="isAdmin">Admin Panel</button>
			<button class="btn btn-default pull-right" ui-sref="home">User Panel</button>
		</div>
	</div>
</div>

<div class="row">
	<div class="container">
		<div class="col-xs-12">
			<div>
				<h3>Logged In As:</h3>
				<p><strong>Avatar: </strong> <img src="/uploads/{{user.nusOpenId}}/{{user.avatar}}"></p>
				<p><strong>Name: </strong> {{user.name}}</p>
				<p><strong>NUS Open ID: </strong> {{user.nusOpenId}}</p>
				<p><strong>Year: </strong>{{user.year}}</p>
				<p><strong>Can Edit: </strong>{{user.canEdit}}</p>
				<p><strong>Last Logged In: </strong>{{user.lastLoggedIn | date: 'medium'}}</p>
				<p><strong>ID: </strong>{{user.id}}</p>
				<p><strong>Super Admin: </strong>{{user.superAdmin}}</p>
				<p>
					<strong>Modules:</strong>
					<ul ng-repeat="module in modules">
						<li>{{module.m.code}}: {{module.m.name}} | Role: {{module.r.properties.role}}</li>
					</ul>
				</p>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="container">
		<div class="col-xs-12">
			<form name="myForm">
		    <fieldset>
		      <legend>Upload on form submit</legend>
		      Username:
		      <input type="text" name="userName" ng-model="username" size="31" required>
		      <i ng-show="myForm.userName.$error.required">*required</i>
		      <br>Photo:
		      <input type="file" ngf-select ng-model="picFile" name="file"    
		             accept="image/*" ngf-max-size="2MB" required
		             ngf-model-invalid="errorFile">
		      <i ng-show="myForm.file.$error.required">*required</i><br>
		      <i ng-show="myForm.file.$error.maxSize">File too large 
		          {{errorFile.size / 1000000|number:1}}MB: max 2M</i>
		      <img ng-show="myForm.file.$valid" ngf-thumbnail="picFile" class="thumb"> <button ng-click="picFile = null" ng-show="picFile">Remove</button>
		      <br>
		      <button ng-disabled="!myForm.$valid" 
		              ng-click="uploadPic(picFile)">Submit</button>
		      <span class="progress" ng-show="picFile.progress >= 0">
		        <div style="width:{{picFile.progress}}%" 
		            ng-bind="picFile.progress + '%'"></div>
		      </span>
		      <span ng-show="picFile.result">Upload Successful</span>
		      <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
		    </fieldset>
		    <br>
		  </form>
		</div>
	</div>
</div>